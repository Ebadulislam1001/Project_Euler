# Problem 2 - Even Fibonacci Numbers
```
Each new term in the Fibonacci sequence is generated by adding the previous two terms.
By starting with 1 and 1, the first 10 terms will be:
    1, 1, 2, 3, 5, 8, 13, 21, 34, 55
By considering the terms in the Fibonacci sequence whose values do not exceed four million,
find the sum of the even-valued terms.
```

## Approach 1
Lets use brute force to find the answer.
- Initialise a variable `sum = 0`.
- Starting from `1` and `1`, generate next fibonacci numbers by adding the last two terms.
- For each even-valued fibonacci term, add it to the `sum`.
- If the next fibonacci numbers exceeds four million, break out of the loop.
- Declare the final value of the `sum` as the answer.

Time Complexity = `O(logN)`, here N = 4,000,000
since the number of fibonacci terms under a given number N are â‰ˆ log N base PHI

### Code
```Python
# Python
N = 4000000

sum = 0
f1, f2 = 1, 2
while(f2 <= N):
    if(f2 % 2 == 0):
        sum += f2
    [f1, f2] = [f2, f1 + f2]

print(f"Answer = {sum}")
```

## Approach 2
If we look closely we can observe that only every third terms in the fibonacci sequence are even:
```
1, 1, "2", 3, 5, "8", 13, 21, "34", 55, 89, "144", ...
```
This allows us to break down our sequence into triads of three terms:
```
[1, 1, 2],
[3, 5, 8],
[13, 21, 34], ...
```
Here only the last term in each triad is an even term and the sum of the first two terms in each triad result in the third term (I mean this is how fibonacci sequence works right?).
```
[1 + 1 = 2],
[3 + 5 = 8],
[13 + 21 = 34], ...
```
So, we can say that the sum of some finite consecutive fibonacci terms starting from `1`, `1` and ending on some even term is equal to twice the sum of the even terms only.
```
eg: 1 + 1 + 2 + 3 + 5 + 8 + 13 + 21 + 34 + 55 + 89 + 144
        = [1 + 1 + 2] + [3 + 5 + 8] + [13 + 21 + 34] + [55 + 89 + 144]
        = [2 + 2] + [8 + 8] + [34 + 34] + [144 + 144]
        = 2 * [2 + 8 + 34 + 144]
```
Conversely, we can say that the some of the even terms is equal to the half of the sum of all the terms (starting from `1`, `1`).
```
eg: 2 + 8 + 34 + 144 = [1 + 1 + 2 + 3 + 5 + 8 + 13 + 21 + 34 + 55 + 89 + 144] / 2
```
We can prove that the sum of first `N` fibonacci numbers is equal to `fib(N+2) - 1`. Refer [Bonus](#bonus) for the proof.
```
eg: 1 + 1 + 2 + 3 + 5 + 8 + 13 + 21 + 34 + 55 + 89 + 144
        = 377 - 1                                        
        = 376
```
Hence we can say that the sum of the even terms (where the last even term is at index `N`) is equal to `(fib(N+2) - 1)/2`
```
eg: 2 + 8 + 34 + 144
        = (377 - 1) / 2
        = 188
```

### Code
```Python
# Python
N = 4000000

f1, f2 = 1, 1
while(f2 <= N):
    [f1, f2] = [f2, f1 + f2]

sum = ((f1+f2 if f1%2 == 0 else f1 if f2%2==0 else f2) - 1) / 2

print(f"Answer = {sum}")
```

## Answer
```
Answer = 4613732
```

## Bonus
### To prove : The sum of first `N` fibonacci terms (starting from `1`, `1`) is given by `fib(N+2) - 1`.

### Proof 1 - using PMI
Let `P(N)` be a given statement involving the natural number `N` such that:
- `P(1)` is true (or true for any fixed natural number) and
- The truth of `P(k)` implies the truth of `P(k + 1)`.

Then `P(N)` is true for all natural numbers `N` (N >= 1).

Let's see how this relates to our case.
#### P(N) = the sum of first `N` fibonacci terms is equal to `fib(N+2) - 1`
#### P(1) is true:
Note that `P(1)` is true, i.e.
```
sum of first 1 fibonacci term
    = 1
    = 2 - 1
    = fib(3) - 1
    = fib(1 + 2) - 1
```
#### The truth of P(k) implies the truth of P(k + 1):
Assume that P(k) is true for some k, i.e.,
```
1 + 1 + 2 + ... + fib(k-1) + fib(k)  =  fib(k+2) - 1
```
Now, to prove that P(k + 1) is true, we have
```
1 + 1 + 2 + ... + fib(k-1) + fib(k) + fib(k+1)
    = (fib(k+2) - 1) + fib(k+1)
    = (fib(k+1) + fib(k+2)) - 1
    = fib(k+3) - 1
    = fib(k+1 + 2) - 1
```
Thus, P(k + 1) is true, whenever P(k) is true.

#### Hence, by the Principle of Mathematical Induction, P(N) is true for all natural numbers N.

### Proof 2 - using Intuition
Let `sum` be the sum of first `N` fibonacci terms, i.e.,
```
sum = 1 + 1 + 2 + 3 + ... + fib(N-1) + fib(N)
```
Adding `1` to both sides of this equation will give us:
```
1 + sum
    = 1 + [1 + 1 + 2 + 3 + ... + fib(N-1) + fib(N)]
    = [1 + 1] + 1 + 2 + 3 + ... + fib(N-1) + fib(N)
    = [2 + 1] + 2 + 3 + ... + fib(N-1) + fib(N)
    = [3 + 2] + 3 + ... + fib(N-1) + fib(N)
    = [fib(N) + fib(N-1)] + fib(N)
    = fib(N+1) + fib(N)
    = fib(N+2)
```
Subtracting `1` from both sides of this equation will give us:
```
sum = fib(N+2) - 1
```

#### Hence, the sum of first `N` fibonacci terms (starting from `1`, `1`) is given by `fib(N+2) - 1`.
